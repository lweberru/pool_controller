type: sections
max_columns: 4
title: Whirlpool
path: whirlpool
badges:
  - entity: sensor.whirlpool_demo_ph_wert
  - entity: sensor.whirlpool_demo_chlorgehalt
  - entity: sensor.whirlpool_demo_nachster_start_in
sections:
  - title: Warnungen
    cards:
      - type: conditional
        conditions:
          - entity: binary_sensor.whirlpool_demo_niedriger_chlorwert
            state: 'on'
        card:
          type: markdown
          content: |
            ## ‚ö†Ô∏è Niedriger Chlorwert
            **Chlor unter 600 mV** ‚Äî bitte pr√ºfen und ggf. Sto√üchlorung durchf√ºhren.

      - type: conditional
        conditions:
          - entity: binary_sensor.whirlpool_demo_ph_ausserhalb_bereich
            state: 'on'
        card:
          type: markdown
          content: |
            ## ‚ö†Ô∏è pH au√üerhalb des Zielbereichs
            **pH < 7.1** oder **pH > 7.4** ‚Äî pH-Wert pr√ºfen und korrigieren.

  - title: Status & Steuerung
    cards:
      - type: thermostat
        entity: climate.whirlpool_demo

      - type: grid
        columns: 3
        square: false
        cards:
          - type: gauge
            entity: sensor.whirlpool_demo_chlorgehalt
            name: Redox (mV)
            min: 0
            max: 1000
            severity:
              green: 700
              yellow: 600
              red: 500

          - type: gauge
            entity: sensor.whirlpool_demo_chlor_aktion
            name: Chlor (L√∂ffel)
            min: 0
            max: 20

          - type: gauge
            entity: sensor.whirlpool_demo_ph_wert
            name: pH-Wert
            min: 6.0
            max: 8.5
            severity:
              green: 7.1
              yellow: 7.4
              red: 8.0

      - type: horizontal-stack
        cards:
          - type: button
            entity: button.whirlpool_demo_kurz_chloren
            name: Kurz chloren
            icon: mdi:shaker
          - type: button
            entity: button.whirlpool_demo_pausieren
            name: Pausieren
            icon: mdi:pause-circle
          - type: entity
            entity: switch.whirlpool_demo_main
            name: Haupt (manuell)

  - title: Chemie & Aktionen
    cards:
      - type: entities
        show_header_toggle: false
        entities:
          - entity: sensor.whirlpool_demo_ph_aktion
            name: pH- (g)
          - entity: sensor.whirlpool_demo_ph_aktion_2
            name: pH+ (g)
          - entity: sensor.whirlpool_demo_chlor_aktion
            name: Chlor (L√∂ffel)
          - entity: sensor.whirlpool_demo_nachster_start_in
            name: Heizstart (Min.)
          - entity: sensor.whirlpool_demo_nachster_event_start
            name: N√§chster Event

  - title: Verlauf
    cards:
      - type: history-graph
        title: Temperaturverlauf (24h)
        hours_to_show: 24
        refresh_interval: 60
        entities:
          - sensor.whirlpool_demo_chlorgehalt

  - title: Sto√üchlorung
    cards:
      - type: conditional
        conditions:
          - entity: binary_sensor.whirlpool_demo_stosschlorung_aktiv
            state: 'on'
        card:
          type: markdown
          content: |
            ### üîÑ Sto√üchlorung aktiv
            Sto√üchlorung l√§uft ‚Äî Hauptversorgung ist f√ºr 5 Minuten priorisiert.
